<div class="agenda-container">
  <h2>ğŸ“… Mes Agendas</h2>

  <div class="week-selector">
    <button (click)="prevWeek()">&lt;</button>
    <span>
      {{ currentMonday | myLocalDate }} â†’ {{ currentSunday | myLocalDate }}
    </span>
    <button (click)="nextWeek()">&gt;</button>
  </div>

  <div *ngIf="isLoading">Chargement...</div>
  <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>

  <ul *ngIf="!isLoading && agendas.length > 0">
    <li *ngFor="let agenda of agendas">
      <strong>{{ agenda.title }}</strong><br>
      {{ agenda.startDate | myLocalDate }} â†’ {{ agenda.endDate | myLocalDate }}<br>
      <small>CrÃ©Ã© par {{ agenda.creatorPseudo || 'Inconnu' }}</small>
    </li>
  </ul>

  <div *ngIf="!isLoading && agendas.length === 0">
    Aucun agenda trouvÃ© pour cette semaine.
  </div>

  <button mat-fab color="primary" class="fab-button" (click)="onAdd()">
    <mat-icon>add</mat-icon>
  </button>
</div>

<app-agenda-edition (submitForm)="handleUserSubmit($event)"></app-agenda-edition>
